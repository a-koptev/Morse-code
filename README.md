# Morse Messenger: Переводчик Азбуки Морзе

**Приложение для Android, которое превращает моргание фонаря в сообщения и обратно, используя компьютерное зрение OpenCV!**

---

## О чем этот проект?

Morse Messenger – это инновационный мессенджер, который позволяет общаться с помощью света, используя Азбуку Морзе. Забудьте о клавиатуре!

*   **Видеоввод:** Направьте камеру вашего Android-устройства на мигающий фонарь, и приложение в реальном времени расшифрует послание.
*   **Световой вывод:** Введите текст, и ваш телефон превратится в передатчик, мигая встроенным фонариком, чтобы передать ваше сообщение.
*   **Интерфейс мессенджера:** Весь процесс происходит в удобном чат-интерфейсе, где входящие и исходящие сообщения отображаются как в обычном мессенджере.

Этот проект – яркий пример синергии между мобильными технологиями, компьютерным зрением и классическими методами связи.

---

## Возможности

### Текущая версия (v1.0)
- **Распознавание Морзе (Декодирование):**
  - Захват видео с камеры в реальном времени с помощью `OpenCV`.
  - Детектирование источника света и анализ его состояний (светло/темно).
  - Преобразование последовательности миганий в точки и тире.
  - Декодирование последовательности точек и тире в читаемый текст.

- **Передача Морзе (Кодирование):**
  - Ввод текстового сообщения через удобную клавиатуру.
  - Автоматическое кодирование текста в последовательность Азбуки Морзе.
  - Управление вспышкой камеры для точной передачи сигнала.

- **Удобный интерфейс:**
  - Чат-подобный UI для отображения истории сообщений.
  - Разделение на "Исходящие" (переданные вами) и "Входящие" (распознанные) сообщения.

### В планах (Будущая версия v2.0 с TensorFlow Lite)
- **Замена OpenCV на нейросеть:** Использование `TensorFlow Lite` для более точного и устойчивого к помехам распознавания миганий.
- **Повышенная надежность:** Нейросеть сможет лучше справляться с дрожанием камеры, изменением расстояния до источника и фоновым светом.
- **Умная классификация:** Распознавание не только вспышек, но и других источников света (например, светодиодов).

---

## Технологический стек

*   **Язык:** Kotlin
*   **Компьютерное зрение:** OpenCV для Android
*   **Машинное обучение (будущее):** TensorFlow Lite

---

## Скриншоты приложения

### Главный экран чата
<img src="screenshots/1.jpg" width="200">

### Режим распознавания
<img src="screenshots/2.jpg" width="200"> 

### Режим передачи
<img src="screenshots/3.jpg" width="200"> 

---

## Архитектура и как это работает

### Декодирование (Свет -> Текст)
1.  **Захват кадра:** `OpenCV` получает кадры с камеры.
2.  **Предобработка:** Кадр конвертируется в оттенки серого и размывается для подавления шума.
3.  **Преобразование:** Меняется контрастность кадра, с помощью OpenCV обнаруживаются круги (свет фонаря) на изображении.
4.  **Детекция света:** Анализируется область интереса (ROI) для определения средней яркости. На основе порогового значения определяется состояние (`ON`/`OFF`).
5.  **Анализ временных интервалов:** Фиксируется длительность каждого состояния. Короткие периоды света – это точки, длинные – тире. Паузы разделяют символы и слова.
6.  **Декодирование в текст:** Полученная последовательность символов Морзе сопоставляется с таблицей для получения итогового текста, который отображается в чате.

### Кодирование (Текст -> Свет)
1.  **Ввод текста:** Пользователь вводит сообщение в текстовом поле.
2.  **Парсинг в Морзе:** Каждый символ преобразуется в соответствующую последовательность точек и тире.
3.  **Управление фонариком:** Согласно сгенерированной последовательности, система включает и выключает вспышку на заданные временные интервалы.

---

## Будущее: Почему TensorFlow Lite?

Хотя подход с `OpenCV` и пороговой обработкой эффективен, он имеет недостатки:
- Чувствительность к изменению освещения.
- Проблемы с дрожанием камеры.
- Низкая точность при большом расстоянии до источника.

**`TensorFlow Lite`** позволит создать модель, которая будет **классифицировать видео-последовательность**, а не просто анализировать яркость в ROI. Это сделает распознавание:
- ✅ Более робастным и точным.
- ✅ Менее зависимым от ручной настройки параметров.
- ✅ Способным игнорировать фоновые шумы.

---

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл `LICENSE` для получения подробной информации.
